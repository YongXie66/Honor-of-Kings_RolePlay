# Honor of Kings - RolePlay

![img](datasets/å¦²å·±Images/æ—¶ä¹‹å¥‡æ—….jpg)

## èƒŒæ™¯

ç‹è€…è£è€€æ˜¯ä¸€æ¬¾MOBAç±»å›½äº§æ¸¸æˆï¼Œç‹è€…è£è€€ä¸­è‹±é›„ä¼—å¤šï¼Œæ¯ä¸ªè‹±é›„éƒ½æœ‰è‡ªå·±é²œæ˜çš„æ•…äº‹èƒŒæ™¯ã€æ€§æ ¼ç‰¹å¾ã€æŠ€èƒ½æ‹›å¼ç­‰ï¼Œå› æ­¤ç‹è€…è£è€€çš„æœ‰å…³æ•°æ®åŒ…å«äº†ä¸°å¯Œçš„æ–‡æœ¬å’Œè¯­éŸ³ï¼Œé€‚åˆåˆ›å»ºè§’è‰²æ‰®æ¼”èŠå¤©æœºå™¨äººã€‚

| åˆ†è·¯       | ä»£è¡¨è‹±é›„ | ç»å…¸å°è¯                               | æ•…äº‹èƒŒæ™¯                                                     | è¢«åŠ¨æŠ€èƒ½                                                     |
| ---------- | -------- | -------------------------------------- | ------------------------------------------------------------ | :----------------------------------------------------------- |
| **å‘è‚²è·¯** | é»„å¿      | æ­£ä¹‰æˆ–è®¸ä¼šè¿Ÿåˆ°ï¼Œä½†ç»ä¸ä¼šå¿˜è®°ç ¸åˆ°ä½ å¤´é¡¶ | é»„å¿ ï¼Œå­—æ±‰å‡ï¼Œä¸œæ±‰æœ«å¹´çš„çŒ›å°†ä¹‹ä¸€ã€‚æ—©å¹´è¿½éšåˆ˜è¡¨ï¼Œåˆ˜è¡¨æ­»åï¼Œæˆä¸ºé•¿æ²™å¤ªå®ˆéŸ©ç„çš„éƒ¨å°† ... ... | é»„å¿ æ™®æ”»æ—¶å¯ä»¥æé«˜6-12ç‚¹æ”»å‡»å’Œ0.75%-1.5%æš´å‡»ç‡ï¼ŒæŒç»­1.5ç§’ï¼Œæ­¤æ•ˆæœæœ€å¤šå¯å åŠ 5å±‚ã€‚é»„å¿ å¤„äºç‚®å°å½¢æ€æ—¶äº«å—åŒå€å¢ç›Šæ•ˆæœï¼Œé»„å¿ åœ¨è¿›å…¥æˆ–é€€å‡ºç‚®å°å½¢æ€æ—¶ï¼Œåˆ·æ–°èº«ä¸Šç•™å­˜çš„å¢ç›Šæ•ˆæœæŒç»­æ—¶é—´å¹¶å°†å¢ç›Šç³»æ•°æ›¿æ¢æˆå½“å‰å½¢æ€çš„å€æ•°ã€‚ |
| **ä¸­è·¯**   | å¦²å·±     | è¯·å°½æƒ…å©å’å¦²å·±ï¼Œä¸»äºº\næ¥å’Œå¦²å·±ç©è€å§   | çº£ç‹èº«è¾¹å¦²å·±å®é™…ä¸Šæ˜¯ç‹ç‹¸ç²¾ã€‚å¥¹è›Šæƒ‘çº£ç‹å¹²ä¸‹äº†ç§ç§ç¥¸å®³ç™¾å§“ã€æ®‹å®³å¿ è‰¯çš„å€’è¡Œé€†æ–½ï¼Œæœ€ç»ˆæ–­é€äº†å•†æœçš„å¤©ä¸‹ ... ... | å¦²å·±æŠ€èƒ½å‘½ä¸­æ•Œäººä¼šå‡å°‘ç›®æ ‡30~72ç‚¹æ³•æœ¯é˜²å¾¡ï¼ŒæŒç»­3ç§’ï¼Œæœ€å¤šå åŠ 3å±‚ |
| **æ‰“é‡**   | èµµäº‘     | å¿ƒæ€€ä¸æƒ§ï¼Œæ‰èƒ½ç¿±ç¿”äºå¤©é™…               | ä¸‰å›½æ—¶çš„èœ€æ±‰åå°†ã€‚å¸¸å±±çœŸå®šäººï¼Œå­—å­é¾™ã€‚ä¸œæ±‰æœ«å¹´å¤§ä¹±ï¼Œç¾¤é›„å¹¶èµ·ä¹‹æ—¶ï¼Œèµ·å…µå½’äºå…¬å­™ç“’ã€‚å…¬å­™ç“’è´¥äº¡ï¼ŒæŠ•å¥”åˆ˜å¤‡ï¼Œæ—¶åˆ˜å¤‡æœªæˆæ°”å€™ ... ... | èµµäº‘æ¯æŸå¤±3%æœ€å¤§ç”Ÿå‘½å°±ä¼šè·å¾—1%å‡ä¼¤                           |
| **å¯¹æŠ—è·¯** | è€å¤«å­   | è€å¤«å¹´å°‘æ—¶ï¼Œä¹Ÿæ›¾åƒä»–ä»¬ä¸€æ ·ï¼Œå¾æˆ˜å››æ–¹   | å†å²åŸå‹ä¸ºå„’å®¶å­¦æ´¾åˆ›å§‹äººå­”å­ï¼Œä»–å¹¿æ”¶é—¨å¾’ï¼Œå‘¨æ¸¸åˆ—å›½ï¼Œå·ç§°ä¸‰åƒå¼Ÿå­ï¼Œä¼ æ’­å…¶å­¦è¯´ ... ... | è€å¤«å­æ™®é€šæ”»å‡»å‘½ä¸­ä¼šå¢åŠ 1ç‚¹è®­è¯«å€¼ï¼Œæœ€å¤šå åŠ 5ç‚¹ï¼Œå æ»¡åä¼šè·å¾—å¼ºåŒ–è‡ªèº«ï¼ŒæŒç»­5ç§’ï¼›å¼ºåŒ–æ—¶è€å¤«å­ä¼šå¢åŠ 60ç‚¹ç§»åŠ¨é€Ÿåº¦å’Œ25%æ”»å‡»é€Ÿåº¦ï¼ŒåŒæ—¶æ™®é€šæ”»å‡»å°†ä¼šé™„å¸¦60ç‚¹çœŸå®ä¼¤å®³ï¼Œæ¯æ¬¡æ”»å‡»èƒ½å¤Ÿå‡å°‘1ç§’åœ£äººè®­è¯«å’Œä¸¾ä¸€åä¸‰çš„å†·å´æ—¶é—´ |
| **æ¸¸èµ°**   | åº„å‘¨     | è´è¶æ˜¯æˆ‘ï¼Œæˆ‘å°±æ˜¯è´è¶                   | åº„å‘¨ï¼Œä¸€èˆ¬äººç§°åº„å­ã€‚æ˜¯æˆ˜å›½æ—¶çš„æ€æƒ³å®¶ï¼Œè·Ÿè€å­ä¸€é“ï¼Œä¸ºé“å®¶çš„ä»£è¡¨äººç‰©ä¹‹ä¸€ï¼Œåä¸–è€åº„å¹¶ç§°ã€‚å…¶å­¦è¯´å´‡å°šè‡ªç„¶ï¼Œæ¨å´‡è‡ªç”± ... ... | åœ¨è‡ªç„¶æ¢¦å¢ƒä¸­ï¼Œåº„å‘¨è§£é™¤å¹¶å…ç–«æ‰€æœ‰æ§åˆ¶æ•ˆæœï¼Œè·å¾—15%å‡ä¼¤ï¼Œå¹¶å¢åŠ 15%ç§»é€Ÿï¼ŒæŒç»­2ç§’ã€‚åº„å‘¨æ¯6ç§’è¿›å…¥ä¸€æ¬¡è‡ªç„¶æ¢¦å¢ƒ |

## ç›®æ ‡

åŸºäºxtunerå¾®è°ƒğŸŒŸ**InternLM2**æ‰“é€ ä¸€ä¸ªç‹è€…è£è€€é¢†åŸŸçš„è§’è‰²æ‰®æ¼”èŠå¤©æœºå™¨äººï¼ˆä»¥å¦²å·±ä¸ºä¾‹ï¼‰ï¼ŒåŒæ—¶ç»“åˆğŸŒŸ**ASR**æŠ€æœ¯å®ç°è¯­éŸ³è¾“å…¥ã€ğŸŒŸ**TTS**æŠ€æœ¯å®ç°å£°éŸ³å…‹éš†å’Œè¯­éŸ³è¾“å‡ºã€ğŸŒŸ**æ•°å­—äºº**æŠ€æœ¯å®ç°è§†é¢‘è¾“å‡ºã€‚

å°†ç‰¹å®šæ¸¸æˆè§’è‰²çš„å½¢è±¡å¸¦å…¥å¤§è¯­è¨€æ¨¡å‹ï¼Œåœ¨å®ç°â‘ çŸ¥è¯†è¾“å‡ºçš„åŒæ—¶ï¼Œä¹Ÿå®ç°â‘¡è§’è‰²æ‰®æ¼”è¡Œä¸ºï¼š

> 1. **è§’è‰²æ‰®æ¼”**ï¼šä½¿æ¨¡å‹è¡¨ç°å¾—åƒã€Šç‹è€…è£è€€ã€‹æ¸¸æˆé‡Œçš„è‹±é›„è§’è‰²å¦²å·±
>    - äº†è§£å¦²å·±çš„è§’è‰²èƒŒæ™¯å’Œè‹±é›„æ•…äº‹
>    - ä½¿ç”¨åƒå¦²å·±çš„æ€§æ ¼ç‰¹ç‚¹ã€è¯­æ°”ã€æ–¹å¼å’Œè¯æ±‡æ¥å›å¤é—®é¢˜
>    - å¦‚æœé—®é¢˜ä¸æ¸¸æˆå†…å®¹æœ‰å…³ï¼Œå°½é‡é‡å¤ä½¿ç”¨æ¸¸æˆä¸­å¦²å·±çš„åŸå§‹å°è¯ã€‚
> 2. **çŸ¥è¯†è¾“å‡º**ï¼šä½¿æ¨¡å‹è¡¨ç°å¾—åƒã€Šç‹è€…è£è€€ã€‹æ¸¸æˆä¸“å®¶
>    - çŸ¥é“å…³äºã€Šç‹è€…è£è€€ã€‹ä¸­æ‰€æœ‰è‹±é›„çš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬è¢«åŠ¨ã€æŠ€èƒ½1/2/3/4ã€è§’è‰²èƒŒæ™¯ã€è‹±é›„æ•…äº‹

## æœŸæœ›ç»“æœ

- ç”¨æˆ·è¿›è¡Œç‹è€…è£è€€é¢†åŸŸç›¸å…³çš„æé—®ï¼Œæ¨¡å‹æ ¹æ®çŸ¥è¯†å‚¨å¤‡åšå‡ºå›ç­”
- æ¨¡å‹åœ¨ä½œå‡ºå›ç­”æ—¶åŒæ—¶ç»“åˆå¦²å·±çš„è¯­æ°”å£å»
- æ¨¡å‹æ¨¡æ‹Ÿå¦²å·±çš„å£°éŸ³ï¼ŒåŒæ­¥ä»¥éŸ³é¢‘å½¢å¼è¾“å‡ºå›ç­”å†…å®¹

## demo

| æ–‡å­—/è¯­éŸ³æé—® |              æ•°å­—äººå›ç­”               |
| :-----------: | :-----------------------------------: |
|    ä½ å¥½å‘€     | <video src="https://github.com/YongXie66/Honor-of-Kings_RolePlay/assets/demo.mp4" type="video/mp4"></video> |

## è¡ŒåŠ¨

### æ•°æ®æ”¶é›†

ç‹è€…è£è€€æ•°æ®çš„æ”¶é›†ï¼Œæ¥æºäº**å…„å¼Ÿé¡¹ç›®**[Honor_of_Kings_Multi-modal_Dataset](https://github.com/chg0901/Honor_of_Kings_Multi-modal_Dataset/)ï¼Œæ¬¢è¿å¤§å®¶å‰å»star~

```bash
|-- Honor-of-Kings_RolePlay/
    |-- README.md
    |-- ç‹è€…è£è€€è‹±é›„åå•.txt
    |-- RAG_Data/
        |-- ä¸Šå®˜å©‰å„¿.txt
        |-- ä¸çŸ¥ç«èˆ.txt
        |-- ä¸œçš‡å¤ªä¸€.txt
        ... ...
    |-- å¦²å·±Images/
        |-- ä»™å¢ƒçˆ±ä¸½ä¸.jpg
        |-- å¥³ä»†å’–å•¡.jpg
        |-- æ—¶ä¹‹å¥‡æ—….jpg
        ... ...
    |-- å¦²å·±Texts/
        |-- å¦²å·±ä»‹ç».txt
        |-- å¦²å·±ä»‹ç».xlsx
        |-- å¦²å·±å°è¯.txt
        |-- å¦²å·±æ€§æ ¼ç‰¹ç‚¹.txt
        |-- å¦²å·±è‹±é›„æ•…äº‹.txt
        |-- å¦²å·±è§’è‰²èƒŒæ™¯.txt
    |-- å¦²å·±Voices/
        |-- 109_å¦²å·±__é­…åŠ›ä¹‹ç‹.txt
        |-- 109_å¦²å·±__é­…åŠ›ä¹‹ç‹/
            |-- 109_å¦²å·±_å¦²å·±,ä¸€ç›´çˆ±ä¸»äºº,å› ä¸ºè¢«è®¾å®šæˆè¿™æ ·..wav
            |-- 109_å¦²å·±_å¦²å·±,é™ªä½ ç©.wav
            ... ...
```

### æ•°æ®ç”Ÿæˆ

### å¾®è°ƒ

### ASR

### TTS

### æ•°å­—äºº

## ä½¿ç”¨æŒ‡å—

Clone the repo

```bash
git clone https://github.com/YongXie66/Honor-of-Kings_RolePlay.git
```

install the environment

```bash
conda create -n hok-roleplay python=3.10
conda activate hok-roleplay

pip install torch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 --index-url https://download.pytorch.org/whl/cu118

pip install -r requirements.txt

conda install -q ffmpeg
```

download models

```bash
# LLM ä¸‹è½½
>>>from openxlab.model import download
>>>download(model_repo=LLM_path,output='./InternLM2/InternLM2_7b')
# or
apt install git
apt install git-lfs
git clone https://code.openxlab.org.cn/shenfeilang/Honor-of-Kings_RolePlay.git InternLM2/InternLM2_7b/

# gpt_sovits, sadtalker æ¨¡å‹ä¸‹è½½
git clone https://code.openxlab.org.cn/YongXie66/DaJi_RolePlay.git ./DaJi_RolePlay

# æ¨¡å‹ä½ç½®ç§»åŠ¨
mv ./DaJi_RolePlay/GPT_SoVITS/pretrained_models/* ./GPT_SoVITS/pretrained_models/
mv ./DaJi_RolePlay/checkpoints/* ./checkpoints
mv ./DaJi_RolePlay/gfpgan/* ./gfpgan/
```

WEBUI

```bash
python webui.py
```



## é¡¹ç›®æˆå‘˜

|      | æˆå‘˜                                        | è´¡çŒ®ï¼ˆæ›´æ–°ä¸­...ï¼‰ |
| ---- | ------------------------------------------- | ----------------- |
| ä¸»åˆ› | [è°¢å‹‡](https://github.com/YongXie66/)       |                   |
| ä¸»åˆ› | [ç¨‹å®](https://github.com/chg0901)          |                   |
| å…±åˆ› | [Wong Tack Hwa](https://github.com/tackhwa) |                   |
| å…±åˆ› | [æ²ˆé£](https://github.com/shenfeilang)      |                   |

